@{
    ViewData["Title"] = "Room Status";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="admin-dashboard">
    <!-- Header -->
    <div class="dashboard-header">
        <div>
            <h2>
                <i class="fas fa-bed"></i> ROOM STATUS
            </h2>
        </div>
    </div>

    <!-- Room Status Content -->
    <div class="room-status-container">
        <!-- Filter and View Controls -->
        <div class="room-controls">
            <div class="view-options">
                <button class="btn btn-primary active"><i class="fas fa-th-large"></i> Grid</button>
                <button class="btn btn-secondary"><i class="fas fa-list"></i> List</button>
                <button class="btn btn-secondary"><i class="fas fa-map"></i> Floor Plan</button>
            </div>

            <div class="filter-options">
                <select class="form-control">
                    <option>All Rooms</option>
                    <option>Vacant</option>
                    <option>Occupied</option>
                    <option>Reserved</option>
                    <option>Maintenance</option>
                </select>

                <select class="form-control">
                    <option>All Floors</option>
                    <option>1st Floor</option>
                    <option>2nd Floor</option>
                    <option>3rd Floor</option>
                    <option>4th Floor</option>
                    <option>5th Floor</option>
                </select>

                <button class="btn btn-primary">
                    <i class="fas fa-filter"></i> Apply
                </button>
            </div>
        </div>

        <!-- Room Status Grid -->
        <div class="room-grid">
            <!-- Room Cards -->
            <div class="room-card vacant">
                <div class="room-number">101</div>
                <div class="room-info">
                    <div class="room-type">Standard</div>
                    <div class="room-status">Vacant</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-success">Check In</button>
                </div>
            </div>

            <div class="room-card occupied">
                <div class="room-number">205</div>
                <div class="room-info">
                    <div class="room-type">Deluxe</div>
                    <div class="room-status">Occupied</div>
                    <div class="guest-name">John Smith</div>
                    <div class="stay-duration">Until 05/18</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-warning">Extend</button>
                    <button class="btn btn-sm btn-danger">Check Out</button>
                </div>
            </div>

            <div class="room-card reserved">
                <div class="room-number">312</div>
                <div class="room-info">
                    <div class="room-type">Suite</div>
                    <div class="room-status">Reserved</div>
                    <div class="guest-name">Sarah Johnson</div>
                    <div class="stay-duration">From 05/20</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-info">Details</button>
                    <button class="btn btn-sm btn-secondary">Cancel</button>
                </div>
            </div>

            <div class="room-card maintenance">
                <div class="room-number">108</div>
                <div class="room-info">
                    <div class="room-type">Standard</div>
                    <div class="room-status">Maintenance</div>
                    <div class="maintenance-reason">Plumbing</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-info">Details</button>
                    <button class="btn btn-sm btn-success">Ready</button>
                </div>
            </div>

            <div class="room-card vacant">
                <div class="room-number">202</div>
                <div class="room-info">
                    <div class="room-type">Deluxe</div>
                    <div class="room-status">Vacant</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-success">Check In</button>
                </div>
            </div>

            <div class="room-card occupied vip">
                <div class="room-number">401</div>
                <div class="room-info">
                    <div class="room-type">Executive Suite</div>
                    <div class="room-status">Occupied (VIP)</div>
                    <div class="guest-name">Robert Davis</div>
                    <div class="stay-duration">Until 05/25</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-warning">Extend</button>
                    <button class="btn btn-sm btn-danger">Check Out</button>
                </div>
            </div>

            <div class="room-card dirty">
                <div class="room-number">207</div>
                <div class="room-info">
                    <div class="room-type">Standard</div>
                    <div class="room-status">Needs Cleaning</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-info">Details</button>
                    <button class="btn btn-sm btn-success">Clean</button>
                </div>
            </div>

            <div class="room-card reserved">
                <div class="room-number">303</div>
                <div class="room-info">
                    <div class="room-type">Deluxe</div>
                    <div class="room-status">Reserved</div>
                    <div class="guest-name">Emily Wilson</div>
                    <div class="stay-duration">From 05/19</div>
                </div>
                <div class="room-actions">
                    <button class="btn btn-sm btn-info">Details</button>
                    <button class="btn btn-sm btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Room Statistics -->
        <div class="room-statistics">
            <div class="stat-card">
                <div class="stat-value">24</div>
                <div class="stat-label">Total Rooms</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">8</div>
                <div class="stat-label">Occupied</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">12</div>
                <div class="stat-label">Vacant</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3</div>
                <div class="stat-label">Reserved</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">1</div>
                <div class="stat-label">Maintenance</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">78%</div>
                <div class="stat-label">Occupancy Rate</div>
            </div>
        </div>

        <!-- Room Detail Modal (hidden by default) -->
        <div class="room-detail-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-door-open"></i> Room Details</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="room-info-details">
                        <div class="info-row">
                            <span class="info-label">Room Number:</span>
                            <span class="info-value">205</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Room Type:</span>
                            <span class="info-value">Deluxe Room</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Floor:</span>
                            <span class="info-value">2nd Floor</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Status:</span>
                            <span class="info-value status-badge occupied">Occupied</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Current Guest:</span>
                            <span class="info-value">John Smith</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Check-In:</span>
                            <span class="info-value">05/16/2023 3:15 PM</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Check-Out:</span>
                            <span class="info-value">05/18/2023 11:00 AM</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Amenities:</span>
                            <span class="info-value">King Bed, AC, Mini Bar, Balcony</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Housekeeping:</span>
                            <span class="info-value">Last cleaned: 05/17/2023 10:30 AM</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Notes:</span>
                            <span class="info-value">Guest requested extra towels</span>
                        </div>
                    </div>

                    <div class="room-charges">
                        <h4><i class="fas fa-receipt"></i> Current Charges</h4>
                        <table>
                            <tr>
                                <td>Room Rate (per night):</td>
                                <td>$150.00</td>
                            </tr>
                            <tr>
                                <td>Additional Services:</td>
                                <td>$45.50</td>
                            </tr>
                            <tr>
                                <td>Taxes:</td>
                                <td>$23.43</td>
                            </tr>
                            <tr class="total-row">
                                <td>Balance Due:</td>
                                <td>$368.93</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary close-modal">Close</button>
                    <button class="btn btn-primary"><i class="fas fa-print"></i> Print Summary</button>
                    <button class="btn btn-warning"><i class="fas fa-edit"></i> Edit Details</button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Room Status Specific Styles */
    .room-status-container {
        margin: 20px;
        padding: 20px;
    }

    .room-controls {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 15px;
    }

    .view-options, .filter-options {
        display: flex;
        gap: 10px;
        align-items: center;
    }

        .view-options .btn {
            padding: 8px 15px;
        }

        .filter-options select {
            min-width: 150px;
        }

    .room-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .room-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        border-left: 5px solid #ddd;
        position: relative;
        overflow: hidden;
    }

        .room-card.vacant {
            border-left-color: #28a745;
        }

        .room-card.occupied {
            border-left-color: #007bff;
        }

        .room-card.reserved {
            border-left-color: #ffc107;
        }

        .room-card.maintenance {
            border-left-color: #dc3545;
        }

        .room-card.dirty {
            border-left-color: #6c757d;
        }

        .room-card.vip {
            border: 2px solid gold;
        }

    .room-number {
        font-size: 24px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 5px;
    }

    .room-info {
        margin: 10px 0;
    }

    .room-type {
        font-weight: 600;
        color: #3498db;
    }

    .room-status {
        font-size: 14px;
        color: #7f8c8d;
        margin: 5px 0;
    }

    .guest-name, .stay-duration, .maintenance-reason {
        font-size: 13px;
        margin: 3px 0;
        color: #555;
    }

    .room-actions {
        display: flex;
        gap: 5px;
        margin-top: 10px;
    }

        .room-actions .btn {
            flex: 1;
            padding: 5px;
            font-size: 13px;
        }

    .room-statistics {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 30px;
    }

    .stat-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        text-align: center;
    }

    .stat-value {
        font-size: 28px;
        font-weight: bold;
        color: #2c3e50;
    }

    .stat-label {
        font-size: 14px;
        color: #7f8c8d;
    }

    /* Shared styles with directory (modals, etc) */
    .room-detail-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
    }

    .modal-content {
        background: white;
        border-radius: 8px;
        width: 800px;
        max-width: 90%;
        max-height: 90vh;
        overflow-y: auto;
    }

    .modal-header {
        padding: 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

        .modal-header h3 {
            color: #2c3e50;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

    .close-modal {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #7f8c8d;
    }

    .modal-body {
        padding: 20px;
    }

    .room-info-details {
        margin-bottom: 30px;
    }

    .info-row {
        display: flex;
        margin-bottom: 10px;
    }

    .info-label {
        font-weight: 600;
        color: #7f8c8d;
        width: 150px;
    }

    .info-value {
        flex: 1;
    }

    .status-badge {
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }

        .status-badge.occupied {
            background-color: #d4edda;
            color: #155724;
        }

    .room-charges table {
        width: 100%;
        margin-top: 15px;
    }

    .room-charges td {
        padding: 8px 0;
    }

        .room-charges td:last-child {
            text-align: right;
        }

    .total-row td {
        font-weight: 600;
        color: #2c3e50;
        border-top: 1px solid #eee;
        padding-top: 12px;
    }

    .modal-footer {
        padding: 15px 20px;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: flex-end;
        gap: 10px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mock view switching
        document.querySelectorAll('.view-options button').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelector('.view-options .active').classList.remove('active');
                this.classList.add('active');
                toastr.info(`Switched to ${this.textContent.trim()} view`);
            });
        });

        // Mock filter functionality
        document.querySelector('.filter-options button').addEventListener('click', function() {
            toastr.info('Applying room filters...');
        });

        // Mock room actions
        document.querySelectorAll('.room-actions .btn-success').forEach(btn => {
            btn.addEventListener('click', function() {
                if (btn.textContent.includes('Check In')) {
                    toastr.success('Check-in dialog would open here');
                } else {
                    toastr.success('Room status updated!');
                }
            });
        });

        document.querySelectorAll('.room-actions .btn-danger').forEach(btn => {
            btn.addEventListener('click', function() {
                toastr.warning('Check-out dialog would open here');
            });
        });

        document.querySelectorAll('.room-actions .btn-info').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelector('.room-detail-modal').style.display = 'flex';
            });
        });

        // Close modal
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelector('.room-detail-modal').style.display = 'none';
            });
        });
    });
</script>